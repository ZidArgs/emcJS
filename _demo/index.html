<html>
    <head>
        <title>emcJS sandbox</title>
        <base href="/_demo/">
        <meta charset="UTF-8">
        <meta name="description" content="Test for emcJS components">
        <meta name="robots" content="none">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <meta name="theme-color" content="#000000">
        <script type="module">
            import emcJS from "../index.js";

            emcJS.util.I18n.connect();
            emcJS.util.I18n.setTranslation("en_us", {
                run: "RUN",
                run_tooltip: "Run logic"
            });
            emcJS.util.I18n.setTranslation("de_de", {
                run: "AUSFÜHREN",
                run_tooltip: "Logik ausführen"
            });
            window.setLang = function(lang) {
                emcJS.util.I18n.setLanguage(lang);
            }

            async function init() {

                let logic = await emcJS.util.FileLoader.json(`logic.simple.json`);

                let LogicGraph = new emcJS.util.graph.LogicGraph(true);
                LogicGraph.load(logic);

                LogicGraph.setAll({
                    "test_1": 1,
                    "test_2": 1
                });
                LogicGraph.traverse("root");

                console.log(LogicGraph.getAll());

                LogicGraph.setAll({
                    "test_3": 1
                });
                LogicGraph.traverse("root");

                console.log(LogicGraph.getAll());
            }

            //init();

            document.getElementById('runlogic').onclick = init;

        </script>
    </head>
    <body>
        <button id="runlogic" i18n-content="run" i18n-tooltip="run_tooltip"></button>
    </body>
</html>